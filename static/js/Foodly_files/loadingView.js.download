Vue.component("loading-view", {
    methods: {
        wait(ms){
            var start = new Date().getTime();
            var end = start;
            while(end < start + ms) {
              end = new Date().getTime();
           }
        }
    },
    mounted(){
        let token = window.localStorage.getItem('token');
        if(!token)
            return;
        axios
        .get("http://localhost:8081/rest/loginWithJwt", {
            headers:{
            'Authorization': 'Bearer ' + token
            }
        })
        .then(response => {
            // this.wait(250);  
            // if(response.data.accountType == "buyer")
            // this.$router.push({ name: 'buyerRestaurants', params: { user: response.data }})
        })
        .catch(error => {
            // this.wait(250);
            // this.$router.push({ name: 'homepage'})
        })
    },
    template:
    `
    <div class="loader-screen d-flex flex-column align-items-center">
        <img class="my-3 full-logo-splash" src="../assets/images/logos/full-logo.png" alt="Brand logo" id="full-logo">
        <div class="loader"></div>
    </div>
    
    `
});